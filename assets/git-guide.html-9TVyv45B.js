import{_ as o}from"./plugin-vue_export-helper-x3n3nnut.js";import{r,o as i,c as p,b as n,d as s,a as e,e as t}from"./app-cexsVJuB.js";const c={},l=t(`<h1 id="git-指南" tabindex="-1"><a class="header-anchor" href="#git-指南" aria-hidden="true">#</a> Git 指南</h1><h2 id="部分克隆-partial-clone" tabindex="-1"><a class="header-anchor" href="#部分克隆-partial-clone" aria-hidden="true">#</a> 部分克隆（Partial clone）</h2><p>添加过滤 <code>blob</code> 对象 <code>--filter=blob:none</code> ，不自动检出<code>--no-checkout</code> <sup class="footnote-ref"><a href="#footnote1">[1]</a><a class="footnote-anchor" id="footnote-ref1"></a></sup></p><p>稀疏检出<code>--sparse</code> <sup class="footnote-ref"><a href="#footnote2">[2]</a><a class="footnote-anchor" id="footnote-ref2"></a></sup> ，浅克隆<code>--dpeth 1</code> <sup class="footnote-ref"><a href="#footnote3">[3]</a><a class="footnote-anchor" id="footnote-ref3"></a></sup> <sup class="footnote-ref"><a href="#footnote4">[4]</a><a class="footnote-anchor" id="footnote-ref4"></a></sup></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 开启稀疏检出</span>
<span class="token function">git</span> config core.sparsecheckout <span class="token boolean">true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="分支操作" tabindex="-1"><a class="header-anchor" href="#分支操作" aria-hidden="true">#</a> 分支操作</h2><h3 id="将远端分支全部变成本地分支" tabindex="-1"><a class="header-anchor" href="#将远端分支全部变成本地分支" aria-hidden="true">#</a> 将远端分支全部变成本地分支<sup class="footnote-ref"><a href="#footnote5">[5]</a><a class="footnote-anchor" id="footnote-ref5"></a></sup></h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">mkdir</span> some_repo
<span class="token builtin class-name">cd</span> some_repo
<span class="token function">git</span> clone <span class="token parameter variable">--bare</span> https://xxx.git .git
<span class="token function">git</span> config <span class="token parameter variable">--unset</span> core.bare
<span class="token function">git</span> reset <span class="token parameter variable">--hard</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="检出所有分支" tabindex="-1"><a class="header-anchor" href="#检出所有分支" aria-hidden="true">#</a> 检出所有分支<sup class="footnote-ref"><a href="#footnote6">[6]</a><a class="footnote-anchor" id="footnote-ref6"></a></sup></h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token keyword">for</span> <span class="token for-or-select variable">remote</span> <span class="token keyword">in</span> <span class="token variable"><span class="token variable">\`</span><span class="token function">git</span> branch <span class="token parameter variable">-r</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-v</span> master <span class="token variable">\`</span></span><span class="token punctuation">;</span> <span class="token keyword">do</span> <span class="token function">git</span> checkout <span class="token parameter variable">--track</span> <span class="token variable">$remote</span> <span class="token punctuation">;</span> <span class="token keyword">done</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="将本地分支全部推到远端" tabindex="-1"><a class="header-anchor" href="#将本地分支全部推到远端" aria-hidden="true">#</a> 将本地分支全部推到远端</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">git</span> remote <span class="token function">rename</span> origin old_origin
<span class="token function">git</span> remote <span class="token function">add</span> origin https://github.com/your_name/yyy.git
<span class="token function">git</span> push <span class="token parameter variable">-u</span> origin <span class="token parameter variable">--all</span>
<span class="token function">git</span> push <span class="token parameter variable">-u</span> origin <span class="token parameter variable">--tags</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="github-cdn" tabindex="-1"><a class="header-anchor" href="#github-cdn" aria-hidden="true">#</a> Github CDN</h2><h3 id="proxy" tabindex="-1"><a class="header-anchor" href="#proxy" aria-hidden="true">#</a> Proxy</h3><h4 id="github-proxy" tabindex="-1"><a class="header-anchor" href="#github-proxy" aria-hidden="true">#</a> GitHub Proxy</h4>`,15),d={href:"https://github.com/hunshcn/gh-proxy",target:"_blank",rel:"noopener noreferrer"},u={href:"https://mirror.ghproxy.com/",target:"_blank",rel:"noopener noreferrer"},h=n("br",null,null,-1),k={href:"https://hunshcn.github.io/gh-proxy/",target:"_blank",rel:"noopener noreferrer"},f={href:"https://gh.api.99988866.xyz/",target:"_blank",rel:"noopener noreferrer"},b={href:"https://moeyy.cn/gh-proxy",target:"_blank",rel:"noopener noreferrer"},v=n("h4",{id:"gitmirror",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#gitmirror","aria-hidden":"true"},"#"),s(" GitMirror")],-1),m={href:"https://gitmirror.com/files.html",target:"_blank",rel:"noopener noreferrer"},g=t(`<ul><li><p><code>文件</code> 在源网址前加上 <code>https://hub.gitmirror.com/</code></p></li><li><p><code>RAW</code> 将 <code>raw.githubusercontent.com</code> 替换为 <code>raw.gitmirror.com</code></p></li><li><p><code>GIS</code> 将 <code>gist.githubusercontent.com</code> 替换为 <code>gist.gitmirror.com</code></p></li></ul><h4 id="jsdelivr-raw-加速" tabindex="-1"><a class="header-anchor" href="#jsdelivr-raw-加速" aria-hidden="true">#</a> <strong>jsDelivr</strong> RAW 加速</h4><p><code>https://cdn.jsdelivr.net/gh/&lt;用户名&gt;/&lt;仓库名&gt;@&lt;发布版本号&gt;/&lt;文件路径&gt;</code> <sup class="footnote-ref"><a href="#footnote7">[7]</a><a class="footnote-anchor" id="footnote-ref7"></a></sup></p><p>备选域名</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>https://fastly.jsdelivr.net/gh/
https://gcore.jsdelivr.net/gh/
https://purge.jsdelivr.net/gh/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="serctl网站下载加速" tabindex="-1"><a class="header-anchor" href="#serctl网站下载加速" aria-hidden="true">#</a> serctl网站下载加速</h3>`,6),_={href:"https://d.serctl.com/",target:"_blank",rel:"noopener noreferrer"},y=n("h3",{id:"自建服务",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#自建服务","aria-hidden":"true"},"#"),s(" 自建服务")],-1),x=n("h4",{id:"cloudflare",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#cloudflare","aria-hidden":"true"},"#"),s(" Cloudflare")],-1),w={href:"https://github.com/hunshcn/gh-proxy?tab=readme-ov-file#cf-worker%E7%89%88%E6%9C%AC%E9%83%A8%E7%BD%B2",target:"_blank",rel:"noopener noreferrer"},G=n("br",null,null,-1),j={href:"https://github.com/gaboolic/cloudflare-reverse-proxy",target:"_blank",rel:"noopener noreferrer"},z=n("br",null,null,-1),E={href:"https://zhuanlan.zhihu.com/p/445303816",target:"_blank",rel:"noopener noreferrer"},N=n("br",null,null,-1),q={href:"https://cloud.tencent.com/developer/article/2211557",target:"_blank",rel:"noopener noreferrer"},C=t(`<div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token keyword">async</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> env<span class="token punctuation">,</span> ctx</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> pathname <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URL</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">.</span>pathname<span class="token punctuation">;</span>
    <span class="token keyword">const</span> pathparts <span class="token operator">=</span> pathname<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\\/+|\\/+$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span><span class="token string">&#39;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&#39;/&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span><span class="token punctuation">(</span>pathparts<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Response</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">Page not found </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>pathname<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">status</span><span class="token operator">:</span> <span class="token number">404</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">const</span> targetUrl <span class="token operator">=</span> <span class="token string">&#39;https://github.com&#39;</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span>targetUrl <span class="token operator">+</span> pathname<span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">method</span><span class="token operator">:</span> request<span class="token punctuation">.</span>method<span class="token punctuation">,</span>
      <span class="token literal-property property">headers</span><span class="token operator">:</span> request<span class="token punctuation">.</span>headers<span class="token punctuation">,</span>
      <span class="token literal-property property">body</span><span class="token operator">:</span> request<span class="token punctuation">.</span>body
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Response</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>body<span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">status</span><span class="token operator">:</span> response<span class="token punctuation">.</span>status<span class="token punctuation">,</span>
      <span class="token literal-property property">statusText</span><span class="token operator">:</span> response<span class="token punctuation">.</span>statusText<span class="token punctuation">,</span>
      <span class="token literal-property property">headers</span><span class="token operator">:</span> response<span class="token punctuation">.</span>headers
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="nginx" tabindex="-1"><a class="header-anchor" href="#nginx" aria-hidden="true">#</a> Nginx</h4><div class="language-ini line-numbers-mode" data-ext="ini"><pre class="language-ini"><code>server {
    listen 80;
    server_name github.server.name;
    location /{
        proxy_pass https://github.com;
    }
}

server {
    listen 80;
    server_name raw.github.server.name;
    location /{
        proxy_pass https://raw.githubusercontent.com;
    }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,3),H={href:"https://zhuanlan.zhihu.com/p/411165246",target:"_blank",rel:"noopener noreferrer"},P=n("hr",{class:"footnotes-sep"},null,-1),B={class:"footnotes"},R={class:"footnotes-list"},A={id:"footnote1",class:"footnote-item"},D={href:"https://help.aliyun.com/document_detail/309002.html",target:"_blank",rel:"noopener noreferrer"},I=n("a",{href:"#footnote-ref1",class:"footnote-backref"},"↩︎",-1),L={id:"footnote2",class:"footnote-item"},V={href:"https://docs.gitlab.cn/jh/topics/git/partial_clone.html",target:"_blank",rel:"noopener noreferrer"},M=n("a",{href:"#footnote-ref2",class:"footnote-backref"},"↩︎",-1),S={id:"footnote3",class:"footnote-item"},T={href:"https://zhuanlan.zhihu.com/p/54581830",target:"_blank",rel:"noopener noreferrer"},U=n("a",{href:"#footnote-ref3",class:"footnote-backref"},"↩︎",-1),W={id:"footnote4",class:"footnote-item"},$={href:"https://stackoverflow.com/questions/600079/how-do-i-clone-a-subdirectory-only-of-a-git-repository",target:"_blank",rel:"noopener noreferrer"},F=n("a",{href:"#footnote-ref4",class:"footnote-backref"},"↩︎",-1),J={id:"footnote5",class:"footnote-item"},O={href:"https://blog.csdn.net/p942005405/article/details/109109426",target:"_blank",rel:"noopener noreferrer"},K=n("a",{href:"#footnote-ref5",class:"footnote-backref"},"↩︎",-1),Q={id:"footnote6",class:"footnote-item"},X={href:"https://www.kyleblog.cn/posts/git_migrate",target:"_blank",rel:"noopener noreferrer"},Y=n("a",{href:"#footnote-ref6",class:"footnote-backref"},"↩︎",-1),Z={id:"footnote7",class:"footnote-item"},nn={href:"https://www.jsdelivr.com",target:"_blank",rel:"noopener noreferrer"},sn=n("a",{href:"#footnote-ref7",class:"footnote-backref"},"↩︎",-1);function an(en,tn){const a=r("ExternalLinkIcon");return i(),p("div",null,[l,n("p",null,[n("strong",null,[n("a",d,[s("gh-proxy"),e(a)])]),s(" 原始地址前添加代理服务器 "),n("a",u,[s("https://mirror.ghproxy.com/"),e(a)]),h,s(" 备用服务器："),n("a",k,[s("GitHub 文件加速 (hunshcn.github.io)"),e(a)]),s("、 "),n("a",f,[s("GitHub 文件加速 (99988866.xyz)"),e(a)]),s(" 、"),n("a",b,[s("GitHub 文件加速 - Moeyy"),e(a)])]),v,n("p",null,[n("a",m,[s("Github 文件加速服务 - GitMirror"),e(a)])]),g,n("p",null,[n("a",_,[s("https://d.serctl.com/"),e(a)])]),y,x,n("p",null,[n("a",w,[s("gh-proxy: cf-worker版本部署"),e(a)]),G,n("a",j,[s("gaboolic/cloudflare-reverse-proxy: cloudflare反向代理"),e(a)]),z,n("a",E,[s("使用cloudflare制作GitHub“镜像站” - 知乎 (zhihu.com)"),e(a)]),N,n("a",q,[s("利用CloudFlare的Workers和Pages反代Github并缓存实现Github文件加速访问"),e(a)])]),C,n("p",null,[n("a",H,[s("nginx本地反代github"),e(a)])]),P,n("section",B,[n("ol",R,[n("li",A,[n("p",null,[n("a",D,[s("部分克隆（Partial clone）介绍"),e(a)]),s(),I])]),n("li",L,[n("p",null,[n("a",V,[s("部分克隆 - GitLab文档"),e(a)]),s(),M])]),n("li",S,[n("p",null,[n("a",T,[s("Git clone仓库的一个子目录"),e(a)]),s(),U])]),n("li",W,[n("p",null,[n("a",$,[s("How do I clone a subdirectory only of a Git repository?"),e(a)]),s(),F])]),n("li",J,[n("p",null,[n("a",O,[s("git clone 所有分支，并push到另一个repo 转载"),e(a)]),s(),K])]),n("li",Q,[n("p",null,[n("a",X,[s("迁移git项目到另一个仓库（保留所有分支、标签、历史记录）"),e(a)]),s(),Y])]),n("li",Z,[n("p",null,[n("a",nn,[s("jsDelivr"),e(a)]),s(),sn])])])])])}const pn=o(c,[["render",an],["__file","git-guide.html.vue"]]);export{pn as default};
