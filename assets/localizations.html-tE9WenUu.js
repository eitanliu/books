import{_ as t}from"./plugin-vue_export-helper-x3n3nnut.js";import{r as o,o as l,c as p,b as n,d as s,a as e,e as i}from"./app-c8WVWdNX.js";const c={},u=n("h1",{id:"多语言配置",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#多语言配置","aria-hidden":"true"},"#"),s(" 多语言配置")],-1),r={href:"https://github.com/unicode-org/cldr/blob/master/common/validity/language.xml",target:"_blank",rel:"noopener noreferrer"},d={href:"https://github.com/unicode-org/cldr/blob/master/common/validity/script.xml",target:"_blank",rel:"noopener noreferrer"},k={href:"https://github.com/unicode-org/cldr/blob/master/common/validity/region.xml",target:"_blank",rel:"noopener noreferrer"},v=i(`<h2 id="配置多语言" tabindex="-1"><a class="header-anchor" href="#配置多语言" aria-hidden="true">#</a> 配置多语言</h2><ol><li><p><strong>添加依赖</strong></p><p>执行命令</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>flutter pub <span class="token function">add</span> flutter_localizations <span class="token parameter variable">--sdk</span><span class="token operator">=</span>flutter
flutter pub <span class="token function">add</span> intl:any
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>或编辑 <code>pubspec.yaml</code> 添加依赖</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">dependencies</span><span class="token punctuation">:</span>
  <span class="token key atrule">flutter</span><span class="token punctuation">:</span>
    <span class="token key atrule">sdk</span><span class="token punctuation">:</span> flutter
  <span class="token key atrule">flutter_localizations</span><span class="token punctuation">:</span>
    <span class="token key atrule">sdk</span><span class="token punctuation">:</span> flutter
  <span class="token key atrule">intl</span><span class="token punctuation">:</span> any
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>添加本地化配置</strong></p><ul><li><p>在 <code>pubspec.yaml</code> 中启用 <code>generate</code> 配置</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token comment"># The following section is specific to Flutter.</span>
<span class="token key atrule">flutter</span><span class="token punctuation">:</span>
  <span class="token key atrule">generate</span><span class="token punctuation">:</span> <span class="token boolean important">true</span> <span class="token comment"># Add this line</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>添加 <code>l10n.yaml</code> 指定本地化生成文件</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">arb-dir</span><span class="token punctuation">:</span> lib/l10n
<span class="token key atrule">template-arb-file</span><span class="token punctuation">:</span> intl_zh.arb
<span class="token key atrule">nullable-getter</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
<span class="token comment">#懒加载</span>
<span class="token comment">#use-deferred-loading: true</span>
<span class="token comment">#禁用{}转译</span>
<span class="token comment">#use-escaping: false</span>
<span class="token comment">#指定生成目录</span>
<span class="token comment">#synthetic-package: false</span>
<span class="token comment">#output-dir: lib/generated</span>
<span class="token key atrule">output-class</span><span class="token punctuation">:</span> S
<span class="token key atrule">output-localization-file</span><span class="token punctuation">:</span> app_localizations.dart
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>在 <code>\${FLUTTER_PROJECT}/lib/l10n</code> 中，添加 <code>app_zh.arb</code> 模板文件</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;helloWorld&quot;</span><span class="token operator">:</span> <span class="token string">&quot;你好!&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;@helloWorld&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;欢迎提示语&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>执行 <code>flutter gen-l10n</code> 将在 <code>\${FLUTTER_PROJECT}/.dart_tool/flutter_gen/gen_l10n</code> 中看到生成的文件</p></li><li><p>在调用 <code>MaterialApp</code> 的构造函数时候导入 <code>app_localizations.dart</code> 和使用</p><div class="language-dart line-numbers-mode" data-ext="dart"><pre class="language-dart"><code><span class="token keyword">return</span> <span class="token keyword">const</span> <span class="token class-name">MaterialApp</span><span class="token punctuation">(</span>
  title<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&#39;Localizations Sample App&#39;</span></span><span class="token punctuation">,</span>
  localizationsDelegates<span class="token punctuation">:</span> <span class="token class-name">S</span><span class="token punctuation">.</span>localizationsDelegates<span class="token punctuation">,</span>
  supportedLocales<span class="token punctuation">:</span> <span class="token class-name">S</span><span class="token punctuation">.</span>supportedLocales<span class="token punctuation">,</span>
  home<span class="token punctuation">:</span> <span class="token class-name">MyHomePage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li></ol><h2 id="语言环境操作" tabindex="-1"><a class="header-anchor" href="#语言环境操作" aria-hidden="true">#</a> 语言环境操作</h2><h3 id="切换语言" tabindex="-1"><a class="header-anchor" href="#切换语言" aria-hidden="true">#</a> 切换语言</h3><p><code>Localizations.override</code> 提供从在某一个位置设置与应用不同的语言</p><div class="language-dart line-numbers-mode" data-ext="dart"><pre class="language-dart"><code><span class="token class-name">Localizations</span><span class="token punctuation">.</span><span class="token function">override</span><span class="token punctuation">(</span>
  context<span class="token punctuation">:</span> context<span class="token punctuation">,</span>
  locale<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Locale</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&#39;zh&#39;</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token comment">// </span>
  child<span class="token punctuation">:</span> <span class="token class-name">Builder</span><span class="token punctuation">(</span>
    builder<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token class-name">CalendarDatePicker</span><span class="token punctuation">(</span>
        initialDate<span class="token punctuation">:</span> <span class="token class-name">DateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        firstDate<span class="token punctuation">:</span> <span class="token class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">1900</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        lastDate<span class="token punctuation">:</span> <span class="token class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">2100</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        onDateChanged<span class="token punctuation">:</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="获取语言环境" tabindex="-1"><a class="header-anchor" href="#获取语言环境" aria-hidden="true">#</a> 获取语言环境</h3><p>通过调用 <code>Localizations.localeOf()</code> 方法来查看 app 当前的语言环境</p><div class="language-dart line-numbers-mode" data-ext="dart"><pre class="language-dart"><code><span class="token class-name">Locale</span> myLocale <span class="token operator">=</span> <span class="token class-name">Localizations</span><span class="token punctuation">.</span><span class="token function">localeOf</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="指定加载的语言" tabindex="-1"><a class="header-anchor" href="#指定加载的语言" aria-hidden="true">#</a> 指定加载的语言</h3><div class="language-dart line-numbers-mode" data-ext="dart"><pre class="language-dart"><code><span class="token class-name">MaterialApp</span><span class="token punctuation">(</span>
  localeResolutionCallback<span class="token punctuation">:</span> <span class="token punctuation">(</span>
    locale<span class="token punctuation">,</span>
    supportedLocales<span class="token punctuation">,</span>
  <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> locale<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="语言模板arb" tabindex="-1"><a class="header-anchor" href="#语言模板arb" aria-hidden="true">#</a> 语言模板arb</h2><h3 id="占位符-placeholders" tabindex="-1"><a class="header-anchor" href="#占位符-placeholders" aria-hidden="true">#</a> 占位符 Placeholders</h3><p>替换 <code>{keyName}</code> 里面内容</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token string">&quot;{placeholderName}&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>完整例子</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;hello&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Hello {userName}&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;@hello&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;A message with a single parameter&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;placeholders&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;userName&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;String&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;example&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Bob&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="复数-plurals" tabindex="-1"><a class="header-anchor" href="#复数-plurals" aria-hidden="true">#</a> 复数 Plurals</h3><p>包含一个 <code>num</code> 参数，指定如何在不同情况下返回内容，类似模板如下：</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token string">&quot;{countPlaceholder, plural, =0{message0} =1{message1} =2{message2} few{messageFew} many{messageMany} other{messageOther}}&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>完整例子</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;nWombats&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{count, plural, =0{no wombats} =1{1 wombat} other{{count} wombats}}&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;@nWombats&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;A plural message&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;placeholders&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;count&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;num&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token string">&quot;compact&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="选择器-selects" tabindex="-1"><a class="header-anchor" href="#选择器-selects" aria-hidden="true">#</a> 选择器 Selects</h3><p>包含一个 <code>String</code> 参数，指定如何在不同情况下返回内容，类似模板如下：</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token string">&quot;{selectPlaceholder, select, case{message} ... other{messageOther}}&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>完整例子</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;pronoun&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{gender, select, male{he} female{she} other{they}}&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;@pronoun&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;A gendered message&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;placeholders&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;gender&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;String&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="数字和货币格式" tabindex="-1"><a class="header-anchor" href="#数字和货币格式" aria-hidden="true">#</a> 数字和货币格式</h3>`,28),m={href:"https://docs.flutter.dev/ui/accessibility-and-localization/internationalization#messages-with-numbers-and-currencies",target:"_blank",rel:"noopener noreferrer"},b=n("h3",{id:"日期格式",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#日期格式","aria-hidden":"true"},"#"),s(" 日期格式")],-1),h={href:"https://docs.flutter.dev/ui/accessibility-and-localization/internationalization#messages-with-dates",target:"_blank",rel:"noopener noreferrer"},g=n("h2",{id:"参考",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#参考","aria-hidden":"true"},"#"),s(" 参考")],-1),q={href:"https://docs.flutter.dev/ui/accessibility-and-localization/internationalization",target:"_blank",rel:"noopener noreferrer"};function y(f,_){const a=o("ExternalLinkIcon");return l(),p("div",null,[u,n("p",null,[s("多语言 Unicode 规范包含语言 "),n("a",r,[s("language"),e(a)]),s(" 、字符表 "),n("a",d,[s("script"),e(a)]),s(" 、地区 "),n("a",k,[s("region"),e(a)]),s(" ，其中语言用全小写二到三位字母、字符表为首字母大写四位字母、地区全大写两位字母表示。")]),v,n("p",null,[n("a",m,[s("Messages with numbers and currencies"),e(a)])]),b,n("p",null,[n("a",h,[s("Messages with dates"),e(a)])]),g,n("p",null,[n("a",q,[s("Internationalization | Flutter"),e(a)])])])}const j=t(c,[["render",y],["__file","localizations.html.vue"]]);export{j as default};
